[{"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\form\\ActivityForm.tsx":"1","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\layout\\App.tsx":"2","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\nav\\navbar.tsx":"3","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\details\\ActivityDetails.tsx":"4","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\dashboard\\ActivityDashboard.tsx":"5","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\dashboard\\ActivityList.tsx":"6","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\index.tsx":"7","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\reportWebVitals.ts":"8","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\api\\agent.ts":"9","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\layout\\LoadingComponent.tsx":"10","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\stores\\activityStore.ts":"11","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\home\\HomePage.tsx":"12","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\layout\\ScrollToTop.tsx":"13","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\dashboard\\ActivityListItem.tsx":"14","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\details\\ActivityDetailedHeader.tsx":"15","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\details\\ActivityDetailedInfo.tsx":"16","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\details\\ActivityDetailedChat.tsx":"17","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\details\\ActivityDetailedSidebar.tsx":"18","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\layout\\NotFound.tsx":"19","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\form\\TextInput.tsx":"20","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\form\\TextAreaInput.tsx":"21","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\form\\SelectInput.tsx":"22","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\form\\DateInput.tsx":"23","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\options\\categoryOptions.ts":"24","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\util\\util.ts":"25","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\user\\LoginForm.tsx":"26","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\stores\\rootStore.ts":"27","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\models\\activity.ts":"28","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\stores\\userStore.ts":"29","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\stores\\commonStore.ts":"30","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\modals\\ModalContainer.tsx":"31","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\stores\\modalStore.ts":"32","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\form\\ErrorMessage.tsx":"33","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\user\\RegisterForm.tsx":"34","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\dashboard\\ActivityListItemAttendees.tsx":"35","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfilePage.tsx":"36","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfileHeader.tsx":"37","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfileContent.tsx":"38","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\stores\\profileStore.ts":"39","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfilePhotos.tsx":"40","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\photoUpload\\PhotoUploadWidget.tsx":"41","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\photoUpload\\PhotoWidgetDropzone.tsx":"42","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\photoUpload\\PhotoWidgetCropper.tsx":"43","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfileAbout.tsx":"44","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfileFollowings.tsx":"45","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfileCard.tsx":"46","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\dashboard\\ActivityFilters.tsx":"47","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfileActivities.tsx":"48","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\dashboard\\ActivityListItemPlaceHolder.tsx":"49","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\layout\\PrivateRoute.tsx":"50"},{"size":6661,"mtime":1611044877571,"results":"51","hashOfConfig":"52"},{"size":2493,"mtime":1614687779577,"results":"53","hashOfConfig":"52"},{"size":1911,"mtime":1613281061111,"results":"54","hashOfConfig":"52"},{"size":1660,"mtime":1614258414850,"results":"55","hashOfConfig":"52"},{"size":1878,"mtime":1614242967418,"results":"56","hashOfConfig":"52"},{"size":1118,"mtime":1612264727475,"results":"57","hashOfConfig":"52"},{"size":920,"mtime":1610069361511,"results":"58","hashOfConfig":"52"},{"size":425,"mtime":1606477932152,"results":"59","hashOfConfig":"52"},{"size":4443,"mtime":1614687512686,"results":"60","hashOfConfig":"52"},{"size":372,"mtime":1609259679108,"results":"61","hashOfConfig":"52"},{"size":10951,"mtime":1614258757681,"results":"62","hashOfConfig":"52"},{"size":1903,"mtime":1614253263809,"results":"63","hashOfConfig":"52"},{"size":262,"mtime":1609680675163,"results":"64","hashOfConfig":"52"},{"size":3000,"mtime":1613205385994,"results":"65","hashOfConfig":"52"},{"size":2671,"mtime":1614254558810,"results":"66","hashOfConfig":"52"},{"size":1954,"mtime":1611043902674,"results":"67","hashOfConfig":"52"},{"size":3330,"mtime":1613573064432,"results":"68","hashOfConfig":"52"},{"size":2054,"mtime":1614066951142,"results":"69","hashOfConfig":"52"},{"size":622,"mtime":1609925844866,"results":"70","hashOfConfig":"52"},{"size":925,"mtime":1613474242793,"results":"71","hashOfConfig":"52"},{"size":898,"mtime":1610015140081,"results":"72","hashOfConfig":"52"},{"size":999,"mtime":1610022647035,"results":"73","hashOfConfig":"52"},{"size":1258,"mtime":1610105097614,"results":"74","hashOfConfig":"52"},{"size":346,"mtime":1610022647086,"results":"75","hashOfConfig":"52"},{"size":1010,"mtime":1612703732098,"results":"76","hashOfConfig":"52"},{"size":2068,"mtime":1612264571717,"results":"77","hashOfConfig":"52"},{"size":862,"mtime":1613206967999,"results":"78","hashOfConfig":"52"},{"size":1245,"mtime":1614158127035,"results":"79","hashOfConfig":"52"},{"size":2982,"mtime":1614687512670,"results":"80","hashOfConfig":"52"},{"size":874,"mtime":1611659849341,"results":"81","hashOfConfig":"52"},{"size":1158,"mtime":1612264727459,"results":"82","hashOfConfig":"52"},{"size":606,"mtime":1611661715709,"results":"83","hashOfConfig":"52"},{"size":815,"mtime":1612264183078,"results":"84","hashOfConfig":"52"},{"size":2373,"mtime":1612264592842,"results":"85","hashOfConfig":"52"},{"size":919,"mtime":1614067773095,"results":"86","hashOfConfig":"52"},{"size":1479,"mtime":1614083977338,"results":"87","hashOfConfig":"52"},{"size":2757,"mtime":1614077183918,"results":"88","hashOfConfig":"52"},{"size":1001,"mtime":1614165844244,"results":"89","hashOfConfig":"52"},{"size":6957,"mtime":1614165648405,"results":"90","hashOfConfig":"52"},{"size":3761,"mtime":1614254586240,"results":"91","hashOfConfig":"52"},{"size":2472,"mtime":1613390033826,"results":"92","hashOfConfig":"52"},{"size":1146,"mtime":1613392839864,"results":"93","hashOfConfig":"52"},{"size":731,"mtime":1613390033835,"results":"94","hashOfConfig":"52"},{"size":4334,"mtime":1613474431476,"results":"95","hashOfConfig":"52"},{"size":1722,"mtime":1614084258711,"results":"96","hashOfConfig":"52"},{"size":866,"mtime":1614077649149,"results":"97","hashOfConfig":"52"},{"size":1766,"mtime":1614163081727,"results":"98","hashOfConfig":"52"},{"size":3309,"mtime":1614165750248,"results":"99","hashOfConfig":"52"},{"size":1420,"mtime":1614242449044,"results":"100","hashOfConfig":"52"},{"size":716,"mtime":1614251092144,"results":"101","hashOfConfig":"52"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},"4c80u6",{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"104"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"162","usedDeprecatedRules":"104"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"187","messages":"188","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"191","usedDeprecatedRules":"192"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"201","messages":"202","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"203","messages":"204","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"205","messages":"206","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\form\\ActivityForm.tsx",[],["207","208"],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\layout\\App.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\nav\\navbar.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\details\\ActivityDetails.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\dashboard\\ActivityDashboard.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\dashboard\\ActivityList.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\index.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\reportWebVitals.ts",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\api\\agent.ts",["209","210"],"import axios, {AxiosResponse} from 'axios';\r\nimport {IActivitiesEnvelope, IActivity} from \"../models/activity\";\r\nimport {history} from \"../../index\";\r\nimport {toast} from \"react-toastify\";\r\nimport {IUser, IUserFormValues} from \"../models/User\";\r\nimport {IPhoto, IProfile, IProfileFormValues} from \"../models/Profile\";\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\r\n\r\nconst axiosConfig = {\r\n    headers: {\r\n        'Content-Type': 'application/json; charset=UTF-8',\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n    }\r\n};\r\n\r\naxios.interceptors.request.use((config) => {\r\n    const token = window.localStorage.getItem('jwt');\r\n    if (token) config.headers.Authorization = `Bearer ${token}`;\r\n\r\n    return config;\r\n}, error => {\r\n    return Promise.reject(error);\r\n})\r\n\r\naxios.interceptors.response.use(undefined, error => {\r\n    if (error.message === 'Network Error' && !error.response) {\r\n        toast.error('Network Error - Please, make sure API is running!')\r\n    }\r\n    const {status, data, config, headers} = error.response;\r\n    if (status === 404) {\r\n        history.push('/notFound');\r\n    }\r\n    if (status === 401 && headers['www-authenticate'].includes('Bearer error=\"invalid_token\", error_description=\"The token expired')) {\r\n        window.localStorage.removeItem('jwt');\r\n        history.push('/');\r\n        toast.info('Your session has expired, please login again');\r\n    }\r\n    if (status === 400 && config.method === 'get' && data.errors.hasOwnProperty('id')) {\r\n        history.push('/notFound')\r\n    }\r\n    if (status === 500) {\r\n        toast.error('Server error - Please, check the terminal for more info!');\r\n    }\r\n    throw error.response;\r\n})\r\n\r\nconst responseBody = (response: AxiosResponse) => response ? response.data : [];\r\n\r\nconst sleep = (ms: number) => (response: AxiosResponse) => new Promise<AxiosResponse>(resolve => setTimeout(() => resolve(response), ms));\r\n\r\nconst request = {\r\n    get: (url: string) => axios.get(url, axiosConfig).then(responseBody),\r\n    post: (url: string, body: {}) => axios.post(url, body, axiosConfig).then(responseBody),\r\n    put: (url: string, body: {}) => axios.put(url, body, axiosConfig).then(responseBody),\r\n    del: (url: string) => axios.delete(url, axiosConfig).then(responseBody),\r\n    postForm: (url: string, file: Blob) => {\r\n        let formData = new FormData();\r\n        formData.append('File', file);\r\n        return axios.post(url, formData, {\r\n            headers: {'Content-type': 'multipart/form-data'}\r\n        }).then(responseBody);\r\n    }\r\n\r\n}\r\n\r\nconst Activities = {\r\n    list: (params: URLSearchParams): Promise<IActivitiesEnvelope> => axios.get('/activities', {params: params}).then(responseBody),\r\n    details: (id: string) => request.get('/activities/' + id),\r\n    create: (activity: IActivity) => request.post('/activities/', activity),\r\n    update: (activity: IActivity) => request.put('/activities/' + activity.id, activity),\r\n    delete: (id: string) => request.del(`/activities/${id}`),\r\n    attendee: (id: string) => request.post(`/activities/${id}/attend`, {}),\r\n    unattend: (id: string) => request.del(`/activities/${id}/attend`),\r\n\r\n}\r\n\r\nconst User = {\r\n    current: (): Promise<IUser> => request.get('user/'),\r\n    login: (user: IUserFormValues): Promise<IUser> => request.post(`/user/login`, user),\r\n    register: (user: IUserFormValues): Promise<IUser> => request.post(`/user/register`, user),\r\n    refreshToken: (): Promise<IUser> => request.post(`/user/refreshToken`, {})\r\n}\r\n\r\nconst Profiles = {\r\n    get: (username: string): Promise<IProfile> => request.get(`/profiles/${username}`),\r\n    uploadPhoto: (photo: Blob): Promise<IPhoto> => request.postForm(`/photos`, photo),\r\n    setMainPhoto: (id: string) => request.post(`/photos/${id}/setMain`, {}),\r\n    deletePhoto: (id: string) => request.del(`/photos/${id}`),\r\n    updateProfile: (profile: IProfileFormValues): Promise<IProfile> => request.put(`/profiles`, profile),\r\n    follow: (username: string) => request.post(`/profiles/${username}/follow`, {}),\r\n    unfollow: (username: string) => request.del(`/profiles/${username}/follow`),\r\n    listFollowings: (username: string, predicate: string) => request.get(`/profiles/${username}/follow?predicate=${predicate}`),\r\n    listActivities: (username: string, predicate: string) => request.get(`/profiles/${username}/activities?predicate=${predicate}`),\r\n\r\n}\r\n\r\n\r\nexport default {\r\n    Activities,\r\n    User,\r\n    Profiles\r\n};","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\layout\\LoadingComponent.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\stores\\activityStore.ts",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\home\\HomePage.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\layout\\ScrollToTop.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\dashboard\\ActivityListItem.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\details\\ActivityDetailedHeader.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\details\\ActivityDetailedInfo.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\details\\ActivityDetailedChat.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\details\\ActivityDetailedSidebar.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\layout\\NotFound.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\form\\TextInput.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\form\\TextAreaInput.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\form\\SelectInput.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\form\\DateInput.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\options\\categoryOptions.ts",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\util\\util.ts",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\user\\LoginForm.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\stores\\rootStore.ts",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\models\\activity.ts",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\stores\\userStore.ts",["211"],"import {action, computed, makeObservable, observable, runInAction} from \"mobx\";\r\nimport {IUser, IUserFormValues} from \"../models/User\";\r\nimport agent from \"../api/agent\";\r\nimport {RootStore} from \"./rootStore\";\r\nimport {history} from \"../../index\";\r\nimport {Console} from \"inspector\";\r\n\r\nexport default class UserStore {\r\n    refreshTokenTimeout: any;\r\n    rootStore: RootStore;\r\n\r\n    constructor(rootStore: RootStore) {\r\n        makeObservable(this);\r\n        this.rootStore = rootStore\r\n    }\r\n\r\n    @observable user: IUser | null = null;\r\n\r\n    @computed get isLoggedIn() {\r\n        return !!this.user;\r\n    }\r\n\r\n    @action login = async (values: IUserFormValues) => {\r\n        try {\r\n            const user = await agent.User.login(values);\r\n            runInAction(() => {\r\n                this.user = user;\r\n\r\n            })\r\n            this.rootStore.commonStore.setToken(user.token);\r\n            this.startRefreshTokenTimer(user);\r\n            history.push('/activities')\r\n            this.rootStore.modalStore.closeModal();\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    @action register = async (values: IUserFormValues) => {\r\n        try {\r\n            const user = await agent.User.register(values);\r\n            runInAction(() => {\r\n                this.user = user;\r\n\r\n            })\r\n            this.rootStore.commonStore.setToken(user.token);\r\n            this.startRefreshTokenTimer(user);\r\n            this.rootStore.modalStore.closeModal();\r\n            history.push('/activities')\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    @action getUser = async () => {\r\n        try {\r\n            const user = await agent.User.current();\r\n            runInAction(() => {\r\n                this.user = user;\r\n            });\r\n            this.rootStore.commonStore.setToken(user.token);\r\n            this.startRefreshTokenTimer(user);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    @action logout = async () => {\r\n        this.rootStore.commonStore.setToken(null);\r\n        this.user = null;\r\n        history.push('/')\r\n    }\r\n\r\n    @action refreshToken = async () => {\r\n        this.stopRefreshTokenTimer();\r\n        try {\r\n            const user = await agent.User.refreshToken();\r\n            runInAction(() => {\r\n               this.user = user;\r\n            });\r\n            this.rootStore.commonStore.setToken(user.token);\r\n            this.startRefreshTokenTimer(user);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    private startRefreshTokenTimer(user: IUser){\r\n        const jwtToken = JSON.parse(atob(user.token.split('.')[1]));\r\n        const expires = new Date(jwtToken.exp * 1000);\r\n        const timeout = expires.getTime() - Date.now() - 60;\r\n        this.refreshTokenTimeout = setTimeout(this.refreshToken, timeout);\r\n    }\r\n\r\n    private stopRefreshTokenTimer(){\r\n        clearTimeout(this.refreshTokenTimeout);\r\n    }\r\n}","C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\stores\\commonStore.ts",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\modals\\ModalContainer.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\stores\\modalStore.ts",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\form\\ErrorMessage.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\user\\RegisterForm.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\dashboard\\ActivityListItemAttendees.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfilePage.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfileHeader.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfileContent.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\stores\\profileStore.ts",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfilePhotos.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\photoUpload\\PhotoUploadWidget.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\photoUpload\\PhotoWidgetDropzone.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\common\\photoUpload\\PhotoWidgetCropper.tsx",["212"],"import React, {FC, Props, useRef, useState} from 'react';\r\nimport \"cropperjs/dist/cropper.css\";\r\nimport {Cropper} from 'react-cropper';\r\n\r\ninterface IProps {\r\n    setImage: (file: Blob) => void;\r\n    imagePreview: string;\r\n    setCropper: (cropper: Cropper) => void;\r\n}\r\n\r\nconst PhotoWidgetCropper: FC<IProps> = ({setImage, imagePreview, setCropper}) => {\r\n        // const [cropper, setCropper] = useState<Cropper>();\r\n        // const cropper = useRef<Cropper>(null);\r\n        // const cropperRef = useRef<HTMLImageElement>(null);\r\n\r\n        // function cropImage() {\r\n        //     // if (cropper && cropper.current) {\r\n        //     //     cropper.current.getCroppedCanvas().toBlob((blob: any) => {\r\n        //     //         setImage(blob);\r\n        //     //     }, 'image/blob');\r\n        //\r\n        //     const imageElement: any = cropperRef?.current;\r\n        //     const cropper: any = imageElement?.cropper;\r\n        //     cropper.getCroppedCanvas().toBlob((blob: any) => {\r\n        //         setImage(blob);\r\n        //     }, 'image/blob');\r\n        //\r\n        // }\r\n\r\n        return (\r\n            <Cropper\r\n                // ref={cropper}\r\n                src={imagePreview}\r\n                style={{height: 200, width: '100%'}}\r\n                // @ts-ignore\r\n                initialAspectRatio={1}\r\n                aspectRatio={1}\r\n                preview='.img-preview'\r\n                guides={false}\r\n                viewMode={1}\r\n                autoCropArea={1}\r\n                background={false}\r\n                onInitialized={cropper => setCropper(cropper)}\r\n            />\r\n        );\r\n    }\r\n;\r\n\r\nexport default PhotoWidgetCropper;\r\n",["213","214"],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfileAbout.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfileFollowings.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfileCard.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\dashboard\\ActivityFilters.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\profiles\\ProfileActivities.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\features\\activities\\dashboard\\ActivityListItemPlaceHolder.tsx",[],"C:\\projetos\\2020\\udemy\\Reactivities\\client-app\\src\\app\\layout\\PrivateRoute.tsx",[],{"ruleId":"215","replacedBy":"216"},{"ruleId":"217","replacedBy":"218"},{"ruleId":"219","severity":1,"message":"220","line":50,"column":7,"nodeType":"221","messageId":"222","endLine":50,"endColumn":12},{"ruleId":"223","severity":1,"message":"224","line":99,"column":1,"nodeType":"225","endLine":103,"endColumn":3},{"ruleId":"219","severity":1,"message":"226","line":6,"column":9,"nodeType":"221","messageId":"222","endLine":6,"endColumn":16},{"ruleId":"219","severity":1,"message":"227","line":1,"column":28,"nodeType":"221","messageId":"222","endLine":1,"endColumn":36},{"ruleId":"215","replacedBy":"228"},{"ruleId":"217","replacedBy":"229"},"no-native-reassign",["230"],"no-negated-in-lhs",["231"],"@typescript-eslint/no-unused-vars","'sleep' is assigned a value but never used.","Identifier","unusedVar","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","'Console' is defined but never used.","'useState' is defined but never used.",["230"],["231"],"no-global-assign","no-unsafe-negation"]